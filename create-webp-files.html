<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebP Files Creator</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 1000px; margin: 0 auto; padding: 20px; }
        .card { display: inline-block; margin: 10px; text-align: center; }
        canvas { border: 2px solid #333; border-radius: 8px; cursor: pointer; }
        button { background: #4CAF50; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; margin: 5px; }
        button:hover { background: #45a049; }
        .download-all { background: #2196F3; padding: 12px 24px; font-size: 16px; }
        .download-all:hover { background: #1976D2; }
        .info { background: #f0f0f0; padding: 15px; border-radius: 5px; margin: 20px 0; }
    </style>
</head>
<body>
    <h1>🎨 WebP Files Creator</h1>
    
    <div class="info">
        <h3>📋 Instructions:</h3>
        <ol>
            <li>Click "Create All Cards" to generate WebP card images</li>
            <li>Click individual "Download" buttons to save specific cards</li>
            <li>Use "Download All Cards" to get all cards at once</li>
            <li>Place downloaded files in the appropriate WEBP_cards folders</li>
        </ol>
    </div>

    <button onclick="createAllCards()" class="download-all">Create All Cards</button>
    <button onclick="downloadAllCards()" class="download-all">Download All Cards</button>

    <div id="cards"></div>

    <script>
        // Основные карты для каждой темы
        const cards = [
            // Casino theme (9 карт)
            { rank: '6', suit: '♣', theme: 'casino', filename: '6_of_clubs.webp' },
            { rank: '7', suit: '♦', theme: 'casino', filename: '7_of_diamonds.webp' },
            { rank: '8', suit: '♥', theme: 'casino', filename: '8_of_hearts.webp' },
            { rank: '9', suit: '♠', theme: 'casino', filename: '9_of_spades.webp' },
            { rank: '10', suit: '♣', theme: 'casino', filename: '10_of_clubs.webp' },
            { rank: 'J', suit: '♦', theme: 'casino', filename: 'jack_of_diamonds.webp' },
            { rank: 'Q', suit: '♥', theme: 'casino', filename: 'queen_of_hearts.webp' },
            { rank: 'K', suit: '♠', theme: 'casino', filename: 'king_of_spades.webp' },
            { rank: 'A', suit: '♣', theme: 'casino', filename: 'ace_of_clubs.webp' },
            
            // Tavern theme (9 карт)
            { rank: '6', suit: '♣', theme: 'tavern', filename: '6t.webp' },
            { rank: '7', suit: '♦', theme: 'tavern', filename: '7b.webp' },
            { rank: '8', suit: '♥', theme: 'tavern', filename: '8ch.webp' },
            { rank: '9', suit: '♠', theme: 'tavern', filename: '9p.webp' },
            { rank: '10', suit: '♣', theme: 'tavern', filename: '10t.webp' },
            { rank: 'J', suit: '♦', theme: 'tavern', filename: 'Jb.webp' },
            { rank: 'Q', suit: '♥', theme: 'tavern', filename: 'Qch.webp' },
            { rank: 'K', suit: '♠', theme: 'tavern', filename: 'Kp.webp' },
            { rank: 'A', suit: '♣', theme: 'tavern', filename: 'At.webp' },
            
            // Underground theme (9 карт)
            { rank: '6', suit: '♣', theme: 'underground', filename: '6t.webp' },
            { rank: '7', suit: '♦', theme: 'underground', filename: '7b.webp' },
            { rank: '8', suit: '♥', theme: 'underground', filename: '8ch.webp' },
            { rank: '9', suit: '♠', theme: 'underground', filename: '9p.webp' },
            { rank: '10', suit: '♣', theme: 'underground', filename: '10t.webp' },
            { rank: 'J', suit: '♦', theme: 'underground', filename: 'Jb.webp' },
            { rank: 'Q', suit: '♥', theme: 'underground', filename: 'Qch.webp' },
            { rank: 'K', suit: '♠', theme: 'underground', filename: 'Kp.webp' },
            { rank: 'A', suit: '♣', theme: 'underground', filename: 'At.webp' }
        ];

        function createAllCards() {
            const container = document.getElementById('cards');
            container.innerHTML = '';
            
            cards.forEach((card, index) => {
                const cardDiv = document.createElement('div');
                cardDiv.className = 'card';
                
                const canvas = createCardCanvas(card);
                const downloadBtn = document.createElement('button');
                downloadBtn.textContent = 'Download';
                downloadBtn.onclick = () => downloadCard(canvas, card.filename);
                
                const info = document.createElement('div');
                info.innerHTML = `<strong>${card.rank}${card.suit}</strong><br>${card.theme}<br>${card.filename}`;
                
                cardDiv.appendChild(canvas);
                cardDiv.appendChild(info);
                cardDiv.appendChild(downloadBtn);
                container.appendChild(cardDiv);
            });
        }

        function createCardCanvas(card) {
            const canvas = document.createElement('canvas');
            canvas.width = 60;
            canvas.height = 90;
            
            const ctx = canvas.getContext('2d');
            drawCard(ctx, card);
            
            return canvas;
        }

        function drawCard(ctx, card) {
            const width = 60, height = 90;
            
            // Clear canvas
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, width, height);
            
            // Theme-specific styling
            if (card.theme === 'casino') {
                // Casino: Clean, elegant design
                ctx.fillStyle = '#333';
                ctx.strokeStyle = '#333';
                ctx.lineWidth = 2;
                ctx.strokeRect(2, 2, width-4, height-4);
                
                // Gold border
                ctx.strokeStyle = '#ffd700';
                ctx.lineWidth = 1;
                ctx.strokeRect(4, 4, width-8, height-8);
                
            } else if (card.theme === 'tavern') {
                // Tavern: Rustic, warm colors
                ctx.fillStyle = '#8B4513';
                ctx.strokeStyle = '#8B4513';
                ctx.lineWidth = 2;
                ctx.strokeRect(2, 2, width-4, height-4);
                
                // Rustic border
                ctx.strokeStyle = '#654321';
                ctx.lineWidth = 1;
                ctx.strokeRect(5, 5, width-10, height-10);
                
            } else if (card.theme === 'underground') {
                // Underground: Dark, gritty design
                ctx.fillStyle = '#00FF00';
                ctx.strokeStyle = '#00FF00';
                ctx.lineWidth = 2;
                ctx.strokeRect(2, 2, width-4, height-4);
                
                // Dark border
                ctx.strokeStyle = '#1a1a1a';
                ctx.lineWidth = 1;
                ctx.strokeRect(3, 3, width-6, height-6);
            }
            
            // Set text color
            const isRed = card.suit === '♦' || card.suit === '♥';
            ctx.fillStyle = isRed ? '#d32f2f' : '#333';
            
            // Draw rank
            ctx.font = 'bold 12px Arial';
            ctx.textAlign = 'center';
            ctx.fillText(card.rank, width/2, 18);
            
            // Draw suit
            ctx.font = 'bold 18px Arial';
            ctx.fillText(card.suit, width/2, 40);
            
            // Draw rank again (upside down)
            ctx.save();
            ctx.translate(width/2, height-8);
            ctx.rotate(Math.PI);
            ctx.font = 'bold 12px Arial';
            ctx.fillText(card.rank, 0, 0);
            ctx.restore();
        }

        function downloadCard(canvas, filename) {
            // Convert to WebP
            canvas.toBlob(function(blob) {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                a.click();
                URL.revokeObjectURL(url);
                console.log(`Downloaded: ${filename}`);
            }, 'image/webp', 0.85);
        }

        function downloadAllCards() {
            const allCanvases = document.querySelectorAll('canvas');
            allCanvases.forEach((canvas, index) => {
                setTimeout(() => {
                    const card = cards[index];
                    downloadCard(canvas, card.filename);
                }, index * 300);
            });
        }

        // Auto-create cards on load
        window.onload = function() {
            createAllCards();
        };
    </script>
</body>
</html>
